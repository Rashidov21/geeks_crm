{% load static %}
<!-- Universal Form Field Component -->
<div class="{% if field.field.widget.input_type == 'checkbox' %}flex items-center gap-2{% endif %}">
    {% if field.field.widget.input_type != 'checkbox' and field.field.widget.input_type != 'hidden' %}
        <label for="{{ field.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
            {{ field.label }}
            {% if field.field.required %}
                <span class="text-red-500">*</span>
            {% endif %}
        </label>
    {% endif %}
    
    {% if field.field.widget.input_type == 'textarea' %}
        <textarea name="{{ field.name }}" id="{{ field.id_for_label }}" 
                  {% if field.field.required %}required{% endif %}
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"
                  rows="4" placeholder="{{ field.help_text|default:field.label }}">{{ field.value|default:'' }}</textarea>
    
    {% elif field.field.widget.input_type == 'select' %}
        <select name="{{ field.name }}" id="{{ field.id_for_label }}"
                {% if field.field.required %}required{% endif %}
                class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none bg-white">
            {{ field }}
        </select>
    
    {% elif field.field.widget.input_type == 'checkbox' %}
        <input type="checkbox" name="{{ field.name }}" id="{{ field.id_for_label }}"
               {% if field.value %}checked{% endif %}
               class="w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500">
        <label for="{{ field.id_for_label }}" class="text-sm font-medium text-gray-700">
            {{ field.label }}
        </label>
    
    {% elif field.field.widget.input_type == 'file' %}
        <div class="relative">
            <input type="file" name="{{ field.name }}" id="{{ field.id_for_label }}"
                   {% if field.field.required %}required{% endif %}
                   class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
        </div>
    
    {% else %}
        <div class="relative">
            <input type="{{ field.field.widget.input_type|default:'text' }}" 
                   name="{{ field.name }}" 
                   id="{{ field.id_for_label }}"
                   value="{{ field.value|default:'' }}"
                   {% if field.field.required %}required{% endif %}
                   class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                   placeholder="{{ field.help_text|default:field.label }}">
        </div>
    {% endif %}
    
    {% if field.help_text and field.field.widget.input_type != 'checkbox' %}
        <p class="mt-1 text-xs text-gray-500 flex items-center gap-1">
            <i class="fas fa-info-circle"></i>
            {{ field.help_text }}
        </p>
    {% endif %}
    
    {% if field.errors %}
        <div class="mt-2 flex items-center gap-2 text-red-600 text-sm bg-red-50 px-3 py-2 rounded-lg border border-red-200">
            <i class="fas fa-exclamation-circle"></i>
            <span>{{ field.errors.0 }}</span>
        </div>
    {% endif %}
</div>

